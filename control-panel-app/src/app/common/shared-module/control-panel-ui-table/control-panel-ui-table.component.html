<div class="table-wrapper">
  <table mat-table matSort [dataSource]="dataSource" class="table">
    <!--data cells-->
    <ng-container [matColumnDef]="column" *ngFor="let column of simpleDataColumn;">
      <th mat-header-cell mat-sort-header [disabled]="isSortedColumn(column)" *matHeaderCellDef>
        <span>{{translateService.instant(propertyMap[column])}}</span></th>
      <td mat-cell *matCellDef="let row">
        <span class="table_cell-inner">{{row[column]}}</span>
      </td>
    </ng-container>
    <!--registered cell-->
    <ng-container matColumnDef="registered">
      <th mat-header-cell mat-sort-header [disabled]="isSortedColumn(column)" *matHeaderCellDef>
        <span>{{translateService.instant(propertyMap['registered'])}}</span></th>
      <td mat-cell *matCellDef="let item">
        <span class="table_cell-inner">{{item.registered.format('L')}}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="group">
      <th mat-header-cell mat-sort-header [disabled]="isSortedColumn(column)" *matHeaderCellDef>
        <span>{{translateService.instant(propertyMap['group'])}}</span>
      </th>
      <td mat-cell *matCellDef="let item">
        <span class="table_cell-inner">{{item.group.name}}</span>
      </td>
    </ng-container>

    <!--is active cell-->
    <ng-container matColumnDef="isActive" class="table_cell-inner">
      <th mat-header-cell mat-sort-header [disabled]="isSortedColumn(column)" *matHeaderCellDef>
        {{translateService.instant(propertyMap['isActive'])}}
      </th>
      <td mat-cell *matCellDef="let item">
                <span class="user-table_cell-inner">
                  <i class="material-icons status-icon" [ngClass]="{'active': item.isActive}">power_settings_new</i>
                </span>
      </td>
    </ng-container>
    <!--submenu cell-->
    <ng-container matColumnDef="submenu" [stickyEnd]="(point.handset | async)">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let item">
        <button mat-icon-button [matMenuTriggerFor]="staffMemberMenu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #staffMemberMenu="matMenu">
          <button mat-menu-item (click)="delete.emit(item)">
            <mat-icon>delete</mat-icon>
            {{translateService.instant('TABLE_DELETE')}}
          </button>
          <button mat-menu-item (click)="edit.emit(item)">
            <mat-icon>edit</mat-icon>
            {{translateService.instant('TABLE_EDIT')}}
          </button>
        </mat-menu>
      </td>
    </ng-container>
    <!--permission cell-->
    <ng-container matColumnDef="permissions">
      <th mat-header-cell *matHeaderCellDef>{{translateService.instant(propertyMap['permissions'])}}</th>
      <td mat-cell *matCellDef="let group">
        <control-panel-ui-selection
        [valuesMap]="valueMap"
        [selected]="group.permissions"
        (selectionChange)="selectionChange($event)">
        </control-panel-ui-selection>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"
        [ngClass]="{'selected': selection.isSelected(row)}"
        (click)="selection.select(row)"></tr>
  </table>
</div>
<mat-paginator [pageSizeOptions]="[5, 10, 30]" showFirstLastButtons></mat-paginator>
