<mat-sidenav-container class="user-component-wrapper" *ngIf="(userService.usersData$ | async)">
  <mat-sidenav #extendedFilter
               mode="{{(point?.handset | async) ? 'over' : 'side'}}"
               [opened]="!(point?.handset | async)"
               position="end">
    <div class="extended-filter-wrapper">
      <control-panel-ui-extended-filters [data]="(userService.usersData$[0] | async)"></control-panel-ui-extended-filters>
    </div>
  </mat-sidenav>
  <mat-sidenav-content #scrollContainer>
    <control-panel-ui-card panelUIColor="primary">
      <div panelUICardHeaderTitle>{{translateService.instant('USERS_TABLE_TITLE')}}</div>
      <div panelUICardContent>
        <div class="user-table-toolbar">
          <div class="users-table-filter">
            <mat-form-field class="users-table-filter-input">
              <input matInput #filter [formControl]="quickFilter"
                     autocomplete="off"
                     placeholder="{{translateService.instant('USERS_TABLE_FILTER_INPUT_LABEL')}}">
              <mat-icon *ngIf="filter.value"
                        matSuffix
                        (click)="quickFilter.setValue('')"
                        class="clear-filter-icon">clear
              </mat-icon>
            </mat-form-field>
          </div>
          <div class="toolbar-action-buttons-group">
            <button
              *ngIf="(point.handset | async)"
              mat-icon-button
              (click)="extendedFilter.toggle()">
              <mat-icon>menu</mat-icon>
            </button>
          </div>
        </div>
        <control-panel-ui-table
          [data]="(userService.usersData$ | async)?.items"
          [displayedColumns]="displayedColumns"
          [simpleDataColumn]="columnWithData"
          [listSortedColumn]="sortedColumn"
          [itemCount]="(userService.usersData$ | async)?.count"
          [storageKey]="userService.STORAGE_KEY"
          [resetPagination]="resetPagination"
          iconSet="person_add"
          (edit)="operationWithUser('edit', $event)"
          (delete)="operationWithUser('delete', $event)"
          (add)="operationWithUser('add')"
          (pageChanges)="changesHandler($event)"
          (sortChanges)="changesHandler($event)"></control-panel-ui-table>
      </div>
    </control-panel-ui-card>
  </mat-sidenav-content>
</mat-sidenav-container>

